<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style type="text/css">
	body{
		margin:0;
		}
	ul{ list-style:none;}
	#menu{
		position:relative;
		margin:0;
		padding:0;
		width:100px;
		height:100px;
		border:1px solid #CCC;
		display:none;
		z-index:10;
		background-color:white;
		}
	#menu li{
		width:100%;
		line-height:20px;
		}
	#menu li:hover{
		background-color:pink;
		}
	#content{
		position:absolute;
		top:0px;
		left:0px;
		}
	#content li{
		margin-bottom:20px;
		line-height:30px;
		border:1px white solid;
		background-color:#999;
		}
</style>
</head>

<body>
<ul id="menu">
    <li>删除</li>
    <li>红色</li>
    <li>绿色</li>
    <li>黄色</li>
    <li>蓝色</li>
</ul>
<ul id="content">
    <li>子非鱼安之我之乐1</li>
    <li>子非鱼安之我之乐2</li>
    <li>子非鱼安之我之乐3</li>
    <li>子非鱼安之我之乐4</li>
    <li>子非鱼安之我之乐5</li>
</ul>
<script>
window.onload=function(){
	var oMenu=document.getElementById("menu");
	var oMenuLi=oMenu.children;
	var oContent=document.getElementById("content");
	var oContentLi=oContent.children;
	for(var i=0;i<oContentLi.length;i++){
		oContentLi[i].oncontextmenu=function(ev){
			/*兼容性*/
			var oEvent=ev || event;
			oMenu.style.display='block';
			/*鼠标偏移量*/
			oMenu.style.left=oEvent.clientX+'px';
			oMenu.style.top=oEvent.clientY+'px';
			var _this=this;
			for(var j=0;j<oMenuLi.length;j++){
				oMenuLi[0].onclick=function(){
					_this.parentNode.removeChild(_this);
					}
				oMenuLi[1].onclick=function(){
					_this.style.color='red';
					}
				oMenuLi[2].onclick=function(){
					_this.style.color='green';
					}
				oMenuLi[3].onclick=function(){
					_this.style.color='yellow';
					}
				oMenuLi[4].onclick=function(){
					_this.style.color='blue';
					}
				}
			return false;
			}  
		}
	/*点击任意位置隐藏菜单*/
	document.onclick=function (){
        oMenu.style.display='none';
		}
}
</script>
</body>
</html>
